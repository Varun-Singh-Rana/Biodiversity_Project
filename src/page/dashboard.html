<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EcoWatch Uttarakhand | Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/dashboard.css" />
    <link rel="stylesheet" href="../css/window-controls.css" />
  </head>
  <body>
    <div class="window-controls-bar" role="banner">
      <div class="window-controls-title">EcoWatch Uttarakhand</div>
      <div class="window-controls-actions">
        <button
          type="button"
          class="window-control-btn"
          data-window-action="minimize"
          aria-label="Minimize"
        >
          <span class="window-control-icon">-</span>
        </button>
        <button
          type="button"
          class="window-control-btn"
          data-window-action="toggle-maximize"
          aria-label="Maximize"
        >
          <span class="window-control-icon">[]</span>
        </button>
        <button
          type="button"
          class="window-control-btn"
          data-window-action="close"
          aria-label="Close"
        >
          <span class="window-control-icon">x</span>
        </button>
      </div>
    </div>
    <div class="app-shell">
      <header class="top-nav">
        <div class="brand">
          <div class="brand-icon">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M20.9 6.4 12 2 3.1 6.4a1 1 0 0 0-.55.9v9.4a1 1 0 0 0 .55.9L12 22l8.9-4.4a1 1 0 0 0 .55-.9V7.3a1 1 0 0 0-.55-.9ZM12 19.7l-6.9-3.4V8.1L12 4.7l6.9 3.4v8.2Z"
              />
              <path
                d="M12 7.5a4.25 4.25 0 0 0-4.25 4.25c0 3.2 4.25 6.05 4.25 6.05s4.25-2.85 4.25-6.05A4.25 4.25 0 0 0 12 7.5Zm0 6.13a1.88 1.88 0 1 1 1.87-1.88A1.88 1.88 0 0 1 12 13.63Z"
              />
            </svg>
          </div>
          <div class="brand-copy">
            <span class="brand-name">EcoWatch Uttarakhand</span>
          </div>
        </div>
        <nav class="main-nav" aria-label="Primary">
          <a class="nav-item active" href="dashboard.html">Dashboard</a>
          <a class="nav-item" href="fielddata.html">Field Data</a>
          <a class="nav-item" href="aipredictions.html">AI Predictions</a>
          <a class="nav-item" href="report.html">Reports</a>
          <a class="nav-item" href="setting.html">Settings</a>
        </nav>
        <div class="user-area">
          <div class="user-meta">
            <span class="user-name" id="user-name">EcoWatch Ranger</span>
            <span class="user-role" id="user-role">—</span>
          </div>
          <div class="user-avatar" aria-hidden="true" id="user-avatar">EW</div>
        </div>
      </header>

      <main class="content">
        <section class="stat-grid" aria-label="Key Metrics">
          <article class="stat-card">
            <div class="stat-icon stat-icon--shield">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 2 4 5v6c0 5 3.5 9.9 8 11 4.5-1.1 8-6 8-11V5Z" />
              </svg>
            </div>
            <div class="stat-body">
              <span class="stat-title">Protected Areas</span>
              <span class="stat-value">Total Coverage</span>
              <span class="stat-detail" id="stat-protected-areas">—</span>
            </div>
          </article>
          <article class="stat-card">
            <div class="stat-icon stat-icon--eye">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M12 5C6 5 2 12 2 12s4 7 10 7 10-7 10-7-4-7-10-7Zm0 10.5A3.5 3.5 0 1 1 15.5 12 3.5 3.5 0 0 1 12 15.5Z"
                />
                <circle cx="12" cy="12" r="2" />
              </svg>
            </div>
            <div class="stat-body">
              <span class="stat-title">Species Tracked</span>
              <span class="stat-value">Active Monitoring</span>
              <span class="stat-detail" id="stat-species-tracked">—</span>
            </div>
          </article>
          <article class="stat-card">
            <div class="stat-icon stat-icon--alert">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 4 2 20h20ZM12 9.5v4m0 3.5h.01" />
              </svg>
            </div>
            <div class="stat-body">
              <span class="stat-title">Risk Alerts</span>
              <span class="stat-value">Active Warnings</span>
              <span class="stat-detail" id="stat-risk-alerts">—</span>
            </div>
          </article>
          <article class="stat-card">
            <div class="stat-icon stat-icon--pin">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M12 2a7 7 0 0 0-7 7c0 5.2 7 13 7 13s7-7.8 7-13a7 7 0 0 0-7-7Zm0 9.5A2.5 2.5 0 1 1 14.5 9 2.5 2.5 0 0 1 12 11.5Z"
                />
              </svg>
            </div>
            <div class="stat-body">
              <span class="stat-title">Field Reports</span>
              <span class="stat-value">This Week</span>
              <span class="stat-detail" id="stat-reports-week">—</span>
            </div>
          </article>
        </section>

        <section class="main-grid">
          <article class="map-card" aria-labelledby="forest-map-title">
            <header class="card-header">
              <div>
                <h2 id="forest-map-title">
                  Uttarakhand Forest Zones - Live Map
                </h2>
                <p>Interactive monitoring with real-time overlay data</p>
              </div>
              <div
                class="map-layer-toggle"
                role="group"
                aria-label="Map overlays"
              >
                <button type="button" class="pill-button active">
                  Rainfall
                </button>
                <button type="button" class="pill-button">Terrain</button>
              </div>
            </header>
            <div class="map-surface">
              <div class="map-image">
                <img
                  src="../assets/uttarakhand-map.png"
                  alt="Illustrated map of Uttarakhand forest zones"
                />
                <!-- markers overlay -->
                <div class="map-markers" id="map-markers">
                  <div
                    class="map-marker-placeholder"
                    id="map-marker-placeholder"
                  >
                    Awaiting live geospatial data
                  </div>
                </div>
              </div>
              <div class="map-controls" role="group" aria-label="Zoom controls">
                <button type="button">Zoom +</button>
                <button type="button">Zoom -</button>
              </div>
              <div class="map-legend">
                <h4>Map Legend</h4>
                <ul>
                  <li>
                    <span class="legend-dot legend-dot--safe"></span>Protected
                    Zones
                  </li>
                  <li>
                    <span class="legend-dot legend-dot--high"></span>High Risk
                    Areas
                  </li>
                  <li>
                    <span class="legend-dot legend-dot--medium"></span>Medium
                    Risk
                  </li>
                </ul>
              </div>
            </div>
            <div class="map-tabs" role="tablist">
              <button type="button" class="pill-button active" role="tab">
                Biodiversity Hotspots
              </button>
              <button type="button" class="pill-button" role="tab">
                Risk Zones
              </button>
              <button type="button" class="pill-button" role="tab">
                Wildlife Sightings
              </button>
              <button type="button" class="pill-button" role="tab">
                Water Bodies
              </button>
              <button type="button" class="pill-button" role="tab">
                Forest Cover
              </button>
            </div>
          </article>

          <aside class="alerts-column">
            <article class="alerts-card" aria-labelledby="alerts-title">
              <header class="card-header">
                <div>
                  <h2 id="alerts-title">Recent Alerts &amp; Updates</h2>
                  <p>Real-time field notifications</p>
                </div>
              </header>

              <!-- NEW: scrollable container -->
              <div class="alerts-scroll">
                <ul class="alert-list" id="alert-critical-list">
                  <li class="alert-item alert-item--placeholder">
                    <span
                      >No alerts available yet. Submit field data to see
                      updates.</span
                    >
                  </li>
                </ul>
                <ul
                  class="alert-list alert-list--secondary"
                  id="alert-field-list"
                >
                  <li class="alert-item alert-item--placeholder">
                    <span>Waiting for system updates...</span>
                  </li>
                </ul>
              </div>
              <!-- END scrollable container -->
            </article>
          </aside>
        </section>

        <section class="bottom-grid">
          <article class="risk-card" aria-labelledby="risk-title">
            <header class="card-header">
              <div>
                <h2 id="risk-title">Current Risk Assessment</h2>
                <p>Live risk categorisation by district</p>
              </div>
            </header>
            <ul class="risk-list" id="risk-list">
              <li class="risk-row risk-row--placeholder">
                <span
                  >No risk data yet. Field submissions will appear here.</span
                >
              </li>
            </ul>
          </article>
          <article
            class="environment-card"
            aria-labelledby="environment-title"
            id="environment-card"
          >
            <header class="card-header">
              <div>
                <h2 id="environment-title">Environmental Conditions</h2>
                <p>Live feeds from IMD &amp; National Seismic Network</p>
              </div>
              <span class="environment-updated" id="environment-updated"
                >—</span
              >
            </header>
            <div class="environment-body">
              <div class="environment-metrics">
                <article class="environment-metric">
                  <span class="metric-label">Temperature</span>
                  <strong class="metric-value" id="env-temperature">—</strong>
                  <span class="metric-meta" id="env-condition"
                    >Waiting for update</span
                  >
                </article>
                <article class="environment-metric">
                  <span class="metric-label">Humidity</span>
                  <strong class="metric-value" id="env-humidity">—</strong>
                  <span class="metric-meta" id="env-rainfall">Rainfall: —</span>
                </article>
                <article class="environment-metric">
                  <span class="metric-label">Air Quality</span>
                  <strong class="metric-value" id="env-aqi">—</strong>
                  <span class="metric-meta" id="env-aqi-category"
                    >Awaiting IMD feed</span
                  >
                </article>
              </div>
              <div class="environment-panels">
                <section class="environment-panel" aria-live="polite">
                  <h3>IMD Alerts</h3>
                  <p class="environment-text" id="env-alert-summary">
                    Loading alerts…
                  </p>
                  <ul class="environment-list" id="env-alert-list"></ul>
                </section>
                <section class="environment-panel" aria-live="polite">
                  <h3>Recent Seismic Activity</h3>
                  <p class="environment-text" id="env-earthquake">
                    Checking seismic feed…
                  </p>
                </section>
              </div>
              <section
                class="environment-panel environment-panel--errors"
                id="environment-errors"
                hidden
              >
                <h3>Data Issues</h3>
                <ul class="environment-list" id="env-error-list"></ul>
              </section>
            </div>
          </article>
        </section>
      </main>
    </div>

    <script src="../js/window-controls.js" defer></script>
    <script src="../js/dashboard.js" defer></script>
  </body>
</html>
